{% extends 'base.html' %}

{% block content %}
<div class="container">
    <div>
        <h1>Movie Search</h1>
    </div>
    <div>
        <h1>Movie List</h1>
        <form method="GET" action="{% url 'movie-list' %}">
            <input type="text" name="name" placeholder="Name">
            <input type="text" name="category" placeholder="Category">
            <input type="number" name="year" placeholder="Year">
            <input type="number" name="rating" placeholder="Rating">
            <button type="submit">Search</button>
        </form>
        <div class="movie-list">
            {% for movie in movies %}
            <div class="movie">
                <img src="{{ movie.image_url }}" alt="{{ movie.name }}" style="max-height: 250px; max-width: 200px;">
                <h2>{{ movie.name }}</h2>
                <p>Category: {{ movie.category }}</p>
                <p>Rating: {{ movie.rating }}</p>
                <a href="{% url 'movie-detail' movie.pk %}">View Details</a>
            </div>
            {% empty %}
            <p>No movies available</p>
            {% endfor %}
        </div>
    </div>
</div>
{% endblock %}